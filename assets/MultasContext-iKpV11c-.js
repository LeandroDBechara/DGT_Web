import{r as c,j as p}from"./ButtomBar-BlCFZZyj.js";const y=c.createContext();function g(m){const[u,l]=c.useState([]);async function d(e,o){try{const t=new URL("http://localhost:4000/multas");t.searchParams.append("dni",e),t.searchParams.append("dominio",o);const a=await(await fetch(t)).json();l(a)}catch{const s=(await(await fetch("https://github.com/LeandroDBechara/DGT_Web/blob/gh-pages/Jsons/Multas.json")).json()).filter(n=>n.dni===e||n.dominio===o);l(s)}}function f(e){e.preventDefault();const o=e.target.dni.value,t=e.target.dominio.value,r=/^[A-Z]{2}[0-9]{3}[A-Z]{2}$/,a=/^[A-Z]{3}[0-9]{3}$/;if(!o&&!t){const s=document.getElementsByClassName("error");s[0].style.display="flex",s[0].innerHTML="Debe ingresar un DNI o Dominio";return}else{if(t&&!(r.test(t)||a.test(t))){const i=document.getElementsByClassName("error");i[0].style.display="flex",i[0].innerHTML="Formato del dominio incorrecto, ejemplos de formatos admitidos: ABC123 , AB123CD";return}d(o,t);let s=document.getElementsByClassName("tabla");s[0].style.display="flex";let n=document.getElementsByClassName("formulario");n[0].style.display="none"}}return p.jsx(y.Provider,{value:{multas:u,consultar:f},children:m.children})}export{g as M,y as a};
