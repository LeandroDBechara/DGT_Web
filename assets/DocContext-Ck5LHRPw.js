import{r as s,j as p}from"./ButtomBar-BlCFZZyj.js";const f=[{id:0,nombre:"ley n° 6.210",enlace:"/src/documentos/L-6210-consolidada.pdf",tipo:0},{id:1,nombre:"Ley n° 24.449",enlace:"https://servicios.infoleg.gob.ar/infolegInternet/anexos/0-4999/818/texact.htm",tipo:0},{id:2,nombre:"Resolucion n° 1.221",enlace:"https://LeandroDBechara.github.io/DGT_Web/documentos/RESOLUCION Nº1221.pdf",tipo:1},{id:3,nombre:"Decreto acuerdo n° 19/7(MSC)",enlace:"https://msptucuman.gov.ar/wordpress/wp-content/uploads/DA-19-7-2007-Complementa-Ley-7243.pdf",tipo:1}],h=s.createContext();function D(r){const[l,c]=s.useState([]);s.useEffect(()=>{t()},[]);async function t(){try{const o=await(await fetch("http://localhost:4000/documentos")).json();c(o)}catch{c(f)}}async function i(e){e.preventDefault();const o=e.target.nombreD.value,n=e.target.documento.value,a=e.target.pdf.value;o&&a&&n&&((await fetch("http://localhost:4000/agregardoc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:o,enlace:a,tipo:n})})).ok?(t(),console.log("Elemento insertado exitosamente"),document.getElementById("nombreD").value="",document.getElementsByName("documento").forEach(u=>{u.checked=!1}),document.getElementById("pdf").value=""):console.error("Error al insertar el elemento"))}function d(e){var o=document.getElementById(e);o.style.display==="block"?o.style.display="none":o.style.display="block"}async function m(e){let o=e.target.value;e&&((await fetch(`http://localhost:4000/eliminardoc/${o}`,{method:"DELETE"})).ok?(t(),console.log("Elemento eliminado exitosamente")):console.error("Error al eliminar el elemento"))}return p.jsx(h.Provider,{value:{docs:l,crearDoc:i,mostrarDoc:d,eliminarDoc:m},children:r.children})}export{h as D,D as a};
