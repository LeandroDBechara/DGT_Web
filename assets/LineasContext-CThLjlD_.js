import{r as t,j as E}from"./ButtomBar-BlCFZZyj.js";const w=[{id:0,linea:"Linea 103 - El manantial",mapa:"https://www.google.com/maps/d/embed?mid=1fw7x4iHnvHbMKYTB0rLPApmi290&ehbc=2E312F"},{id:1,linea:"Linea 109 - Lomas de Tafi",mapa:"https://www.google.com/maps/d/embed?mid=1O_1w514mLYFZzXTm-99tg8Wzpbs&ehbc=2E312F"},{id:2,linea:"Linea 110 - Comuna El Mananital",mapa:"https://www.google.com/maps/d/embed?mid=1suObnDlaa4pMSVXOYJipriC_aFw&ehbc=2E312F"},{id:3,linea:"Linea 131 - Karamanef - Lomas de Tafi",mapa:"https://www.google.com/maps/d/embed?mid=1lC_8jrhONEunEGi6m_48sTz95IE&ehbc=2E312F"}],L=t.createContext();function v(p){const[o,r]=t.useState([]),[n,m]=t.useState(""),[d,u]=t.useState();var c=[];let s=document.getElementById("busca");t.useEffect(()=>{i()},[]);async function i(){try{const a=await(await fetch("http://localhost:4000/lineas")).json();r(a)}catch{r(w)}}function h(e){m(e.target.value),e.target.value===""?s.style.borderRadius="30px 30px 30px 30px":s.style.borderRadius="30px 30px 4px 4px"}function f(e){{u(e.target.value);const a=document.getElementById("mapa1");a.style.display="block",m(""),s.style.borderRadius="30px 30px 30px 30px"}}async function g(e){e.preventDefault();const a=e.target.nombreL.value,l=e.target.mapa.value;a&&l&&((await fetch("http://localhost:4000/agregarlinea",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({linea:a,mapa:l})})).ok?(i(),console.log("Elemento insertado exitosamente"),document.getElementById("nombreL").value="",document.getElementById("mapa").value=""):console.error("Error al insertar el elemento"))}async function x(e){let a=e.target.value;e&&((await fetch(`http://localhost:4000/eliminarlinea/${a}`,{method:"DELETE"})).ok?(i(),console.log("Elemento eliminado exitosamente")):console.error("Error al eliminar el elemento"))}return n===""||(c=n?o.filter(e=>e.linea.toLowerCase().includes(n.toLocaleLowerCase())):o),E.jsx(L.Provider,{value:{searcher:h,maper:f,results:c,mapa:d,search:n,crearLinea:g,lineas:o,eliminarLinea:x},children:p.children})}export{L,v as a};
