import{r as a,j as y}from"./ButtomBar-BlCFZZyj.js";const E=a.createContext();function b(m){const[o,p]=a.useState([]),[n,i]=a.useState(""),[u,d]=a.useState();var c=[];let s=document.getElementById("busca");a.useEffect(()=>{r()},[]);async function r(){const t=await(await fetch("http://localhost:4000/lineas")).json();p(t)}function x(e){i(e.target.value),e.target.value===""?s.style.borderRadius="30px 30px 30px 30px":s.style.borderRadius="30px 30px 4px 4px"}function f(e){{d(e.target.value);const t=document.getElementById("mapa1");t.style.display="block",i(""),s.style.borderRadius="30px 30px 30px 30px"}}async function h(e){e.preventDefault();const t=e.target.nombreL.value,l=e.target.mapa.value;t&&l&&((await fetch("http://localhost:4000/agregarlinea",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({linea:t,mapa:l})})).ok?(r(),console.log("Elemento insertado exitosamente"),document.getElementById("nombreL").value="",document.getElementById("mapa").value=""):console.error("Error al insertar el elemento"))}async function g(e){let t=e.target.value;e&&((await fetch(`http://localhost:4000/eliminarlinea/${t}`,{method:"DELETE"})).ok?(r(),console.log("Elemento eliminado exitosamente")):console.error("Error al eliminar el elemento"))}return n===""||(c=n?o.filter(e=>e.linea.toLowerCase().includes(n.toLocaleLowerCase())):o),y.jsx(E.Provider,{value:{searcher:x,maper:f,results:c,mapa:u,search:n,crearLinea:h,lineas:o,eliminarLinea:g},children:m.children})}export{E as L,b as a};
